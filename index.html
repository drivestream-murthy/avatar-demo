<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Avatar — Tap to Start</title>
    <!-- Quiet the favicon 404 -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'/>">
    <style>
      :root { --w: 420px; }
      * { box-sizing: border-box; }
      body {
        font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
        background:#0f1115; color:#eaeef5; display:flex; justify-content:center; align-items:flex-start;
        padding:16px; min-height:100vh;
      }
      #app { width:min(100%, var(--w)); }

      #stage {
        width:100%; aspect-ratio:9/16; background:#161b22; border-radius:16px; overflow:hidden;
        position:relative; box-shadow:0 8px 30px rgba(0,0,0,.35);
      }

      /* Raw video fills the stage and is above everything */
      #avatarVideo { position:absolute; inset:0; z-index:2; background:#000; }

      /* Full-screen overlay inside stage: guarantees a valid user gesture */
      #tapOverlay {
        position:absolute; inset:0; z-index:3; background:rgba(0,0,0,.55);
        display:flex; align-items:center; justify-content:center; cursor:pointer; user-select:none;
      }
      #tapOverlay .pill {
        background:#1f2937; border:1px solid #334155; color:#eaeef5; padding:12px 16px; border-radius:999px;
        box-shadow:0 6px 20px rgba(0,0,0,.35); font-weight:600;
      }
      #tapOverlay.hidden { display:none; }

      #banner {
        display:none; margin-top:10px; padding:10px; border-radius:10px;
        background:#2b132a; border:1px solid #6a2a67; color:#ffd3e6; font-size:14px; white-space:pre-wrap;
      }
      #banner.show { display:block; }

      #log {
        margin-top:10px; font-family:ui-monospace, Menlo, Consolas, monospace; font-size:12px;
        background:#0b0e14; color:#c9d1d9; padding:10px; border-radius:10px; border:1px solid #2a2f3a;
        height:180px; overflow:auto;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <h1 style="margin:0 0 8px 0;">Avatar — Tap to Start</h1>

      <div id="stage">
        <!-- IMPORTANT: no "muted" attribute -->
        <video id="avatarVideo" playsinline autoplay></video>

        <!-- One simple overlay to get a user-gesture -->
        <div id="tapOverlay"><div class="pill">▶ Tap to start</div></div>
      </div>

      <div id="banner"></div>
      <div id="log"></div>
    </div>

    <!-- Vite will rewrite this in prod to /assets/*.js -->
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
